# 浏览器输入url到渲染发生了啥

## 用户输入
浏览器进程受到用户输入的url请求。地址栏会判断输入的是搜索内容还是请求的url。如果是搜索内容，则会使用浏览器默认的搜索引擎，合成带搜索关键字的url。如果是网站，则会根据规则加上协议合成完整的url。
敲回车离开页面前，会先触发beforeunload事件，当浏览器开始加载地址后，页面图标进入加载状态
## url请求过程
浏览器主进程会把拼装好的url通过IPC通信的方式把url发送至网络进程。网络进程收到url后，会开始发起请求。
这个时候浏览器需要准备好渲染进程，准备渲染

## 渲染进程
浏览器的默认策略是同域名（相同协议和根域名）公用一个渲染进程process-per-site-instance。如果不是同域名，则会新开一个渲染进程。
渲染进程准备好之后，并不能开始渲染，因为文档还在网络进程中，并没有到渲染进程里来。
## 提交文档
- 网络进程收到返回的connect-type之后，像渲染进程发起“提交文档”的消息。
- 渲染进程收到“提交文档”的消息后，会建立传输数据的管道「ipc」，
- 数据传输成功后，渲染进程会返回“确认提交”